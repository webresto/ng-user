{"version":3,"file":"webresto-ng-user.js.map","sources":["ng://@webresto/ng-user/lib/services/ng-resto-user.service.ts","ng://@webresto/ng-user/lib/directives/sign-up.directive.ts","ng://@webresto/ng-user/lib/directives/sign-in.directive.ts","ng://@webresto/ng-user/lib/directives/sign-out.directive.ts","ng://@webresto/ng-user/lib/directives/reset-password.directive.ts","ng://@webresto/ng-user/lib/directives/reset-password-code.directive.ts","ng://@webresto/ng-user/lib/directives/balance.directive.ts","ng://@webresto/ng-user/lib/directives/toggle-dish-to-favorites.directive.ts","ng://@webresto/ng-user/lib/directives/update-profile.directive.ts","ng://@webresto/ng-user/lib/directives/add-address.directive.ts","ng://@webresto/ng-user/lib/directives/delete-address.directive.ts","ng://@webresto/ng-user/lib/ng-user.module.ts","ng://@webresto/ng-user/lib/http-interceptors/auth.interceptor.ts","ng://@webresto/ng-user/lib/http-interceptors/index.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\nimport {EventerService, EventMessage, NetService} from '@webresto/ng-core';\n\nimport {SignInRequestData} from '../interfaces/sign-in-request-data';\nimport {SignUpRequestData} from '../interfaces/sign-up-request-data';\nimport {ResetPasswordRequestData} from '../interfaces/reset-password-request-data';\nimport {ResetPasswordCodeRequestData} from '../interfaces/reset-password-code-request-data';\nimport {AddDishToFavoritesRequestData} from '../interfaces/add-dish-to-favorites-request-data';\nimport {RemoveDishFromFavoritesRequestData} from '../interfaces/remove-dish-from-favorites-request-data';\nimport {SignInResponseData} from '../interfaces/sign-in-response-data';\nimport {SignUpResponseData} from '../interfaces/sign-up-response-data';\nimport {ResetPasswordResponseData} from '../interfaces/reset-password-response-data';\nimport {ResetPasswordCodeResponseData} from '../interfaces/reset-password-code-response-data';\nimport {UpdateProfileResponseData} from '../interfaces/update-profile-response-data';\nimport {UpdateProfileRequestData} from '../interfaces/update-profile-request-data';\nimport {Address, User} from '../interfaces';\nimport {RemoveAddressRequestData} from \"../interfaces/remove-address-request-data\";\nimport {AddAddressRequestData} from \"../interfaces/add-address-request-data\";\n\nconst LS_TOKEN_NAME = 'gf:tkn:v2';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgRestoUserService {\n\n  private authToken: string;\n  private rememberMe:boolean = false;\n  private historyTransactions: BehaviorSubject<any[]>;\n  private user:BehaviorSubject<any>;\n  private isLoggedIn:BehaviorSubject<boolean>;\n  private favorites:BehaviorSubject<any[]>;\n  private addresses:BehaviorSubject<Address[]>;\n  private streets:BehaviorSubject<any[]>;\n  private historyItems:BehaviorSubject<any[]>;\n  private bonusSystems: BehaviorSubject<any[]>;\n\n  constructor(\n    //private restoStorageService:RestoStorageService,\n    private net:NetService,\n    private eventer:EventerService\n  ) {\n    this.user = new BehaviorSubject({});\n    this.isLoggedIn = new BehaviorSubject(false);\n    this.favorites = new BehaviorSubject([]);\n    this.addresses = new BehaviorSubject([]);\n    this.historyItems = new BehaviorSubject([]);\n    this.historyTransactions = new BehaviorSubject<any[]>([]);\n    this.bonusSystems = new BehaviorSubject<any[]>([]);\n\n    this.authToken = localStorage.getItem(LS_TOKEN_NAME);\n    if(this.authToken) {\n      this.isLoggedIn.next(true);\n    }\n\n    this.isLoggedIn.subscribe(isLoggedIn => {\n      if(isLoggedIn) {\n        setTimeout(() => {\n          this.getFavorites().subscribe();\n          this.getProfile().subscribe();\n          this.getAddresses().subscribe();\n          this.getBonuses().subscribe();\n          this.getHistory().subscribe();\n        }, 500);\n      }\n    });\n\n    this.eventer\n      .getMessageEmitter()\n      .subscribe(message => {\n        switch(message.type) {\n          case \"Unauthorized\":\n            this.deleteAuthToken();\n            break;\n        }\n      });\n  }\n\n  signIn(data:SignInRequestData, rememberMe:boolean = false) {\n\n    this.rememberMe = rememberMe;\n\n    return this.net.post('/signin', data)\n      .pipe(\n        tap(\n          (result: SignInResponseData) => {\n\n            this.setAuthToken(result.token, false);\n            this.user.next(result.user);\n\n            this.eventer.emitMessageEvent(\n              new EventMessage('success', 'Ð£ÑÐ¿ÐµÑ', 'Ð£ÑÐ¿ÐµÑÐ½Ð¾ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð¸ÑÐ¾Ð²Ð°Ð½')\n            );\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n\n  }\n\n  getProfile() {\n    return this.net.get('/user/get/user-info')\n      .pipe(\n        tap(\n          (result: User) => {\n            this.user.next(result);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  getHistory() {\n    return this.net.get('/user/get/history')\n      .pipe(\n        tap(\n          (historyItems) => {\n            this.historyItems.next(historyItems);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  getHistoryTransactions(bonusSystem: string= \"local\", limit: number = 15, set: number = 0) {\n     return this.net.get(`/bonus/transactions?bonussystem=${bonusSystem}&limit=${limit}&number=${set}`)\n      .pipe(\n        tap(\n          (transactions) => {\n            this.historyTransactions.next(transactions);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  updateProfile(data:UpdateProfileRequestData) {\n    return this.net.post('/user/set/user-info', {\n      user: data\n    })\n      .pipe(\n        tap(\n          (result: UpdateProfileResponseData) => {\n            this.user.next(result);\n          },\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      )\n  }\n\n  getAddresses() {\n    return this.net.get('/user/get/location')\n      .pipe(\n        tap(\n          (addresses: Address[]) => {\n            this.addresses.next(addresses);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  addAddress(address: AddAddressRequestData) {\n    return this.net.post('/user/add/location', address)\n      .pipe(\n        tap(\n          (addresses: Address[]) => {\n            this.addresses.next(addresses);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  deleteAddress(address: Address) {\n\n    var reqBody: RemoveAddressRequestData = {\n      id: address.id,\n      street: address.street,\n      home: address.home\n    };\n\n    return this.net.post('/user/remove/location', reqBody)\n      .pipe(\n        tap(\n          (addresses: Address[]) => {\n            this.addresses.next(addresses);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  signUp(data:SignUpRequestData) {\n    return this.net.post('/signup', data)\n      .pipe(\n        tap(\n          (result: SignUpResponseData) => {\n\n            //this.setAuthToken(result.token, false);\n            //this.user.next(result.user);\n\n            this.eventer.emitMessageEvent(\n              new EventMessage('success', 'Ð ÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ñ', 'ÐÐ°Ñ Ð¿Ð°ÑÐ¾Ð»Ñ Ð±ÑÐ» Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð½Ð° ÑÐºÐ°Ð·Ð°Ð½Ð½ÑÐ¹ Ð½Ð¾Ð¼ÐµÑ ÑÐµÐ»ÐµÑÐ¾Ð½Ð°')\n            )\n          },\n\n          error => { this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )}\n        )\n      );\n  }\n\n  signOut() {\n    return this.deleteAuthToken();\n  }\n\n\n  getBonuses() {\n    return this.net.post('/bonus/get', {})\n      .pipe(\n        tap(\n          (result: any) => {\n            this.bonusSystems.next(result);\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  resetPassword(data:ResetPasswordRequestData) {\n\n    return this.net.post('/reset', data)\n      .pipe(\n        tap(\n          (result: ResetPasswordResponseData) => {\n\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  resetPasswordCode(data:ResetPasswordCodeRequestData) {\n\n    return this.net.post('/code', data)\n      .pipe(\n        tap(\n          (result: ResetPasswordCodeResponseData) => {\n\n          },\n\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n\n  getFavorites() {\n    return this.net.get('/user/get/favorites ')\n      .pipe(\n        tap(\n          (result: any[]) => {\n            console.info('getFavorites result', result);\n            this.favorites.next(result);\n          },\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  addDishToFavorites(dish:any) {\n    let data:AddDishToFavoritesRequestData = {\n      dishId: dish.id\n    };\n    return this.net.post('/user/add/favorites ', data)\n      .pipe(\n        tap(\n          (result: any) => {\n            let favoritesUpdated: any[] = this.favorites.getValue();\n            favoritesUpdated.push(dish);\n\n            this.favorites.next(favoritesUpdated);\n          },\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  removeDishFromFavorites(dish:any) {\n    let data:RemoveDishFromFavoritesRequestData = {\n      dishId: dish.id\n    };\n    return this.net.post('/user/remove/favorites ', data)\n      .pipe(\n        tap(\n          (result: any) => {\n            console.info('ÐÑÐ»Ð¾=>>>', this.favorites.getValue().length);\n            let favoritesUpdated: any[] = this.favorites\n              .getValue()\n              .filter(item => item.id != dish.id);\n            console.info('Ð¡ÑÐ°Ð»Ð¾=>>>', favoritesUpdated.length);\n            this.favorites.next(favoritesUpdated);\n          },\n          error => this.eventer.emitMessageEvent(\n            new EventMessage('error', 'ÐÑÐ¸Ð±ÐºÐ°', error)\n          )\n        )\n      );\n  }\n\n  userProfile():BehaviorSubject<User> {\n    return this.user;\n  }\n\n  userIsLoggedIn():BehaviorSubject<boolean> {\n    return this.isLoggedIn;\n  }\n\n  userFavorites():BehaviorSubject<any[]> {\n    return this.favorites;\n  }\n\n  userAddresses():BehaviorSubject<Address[]> {\n    return this.addresses;\n  }\n\n  userHistory():BehaviorSubject<any[]> {\n    return this.historyItems;\n  }\n  userTransactionsHistory():BehaviorSubject<any[]> {\n    return this.historyTransactions;\n  }\n\n\n  getAuthToken():string {\n    return this.authToken;\n  }\n\n  setAuthToken(authToken: string, updateProfile: boolean = true):void {\n    if(this.rememberMe) {\n      localStorage.setItem(LS_TOKEN_NAME, authToken);\n      localStorage.removeItem('gf:login:phone');\n    }\n    this.authToken = authToken;\n    this.isLoggedIn.next(true);\n\n    /*if(updateProfile) {\n      this.getProfile().subscribe();\n      this.getFavorites().subscribe();\n      this.getAddresses().subscribe();\n      this.getHistory().subscribe();\n    }*/\n  }\n\n  deleteAuthToken():void {\n    this.authToken = undefined;\n    localStorage.removeItem(LS_TOKEN_NAME);\n    localStorage.removeItem('gf:login:phone');\n    this.isLoggedIn.next(false);\n  }\n\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { SignUpRequestData } from '../interfaces/sign-up-request-data';\n\n@Directive({\n  selector: '[appSignUp]'\n})\nexport class SignUpDirective {\n\n  @Input() name:string;\n  @Input() phone:string;\n  @Input() email:string;\n  @Input() password:string;\n  @Input() captcha:string;\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    let data:SignUpRequestData = {\n      name: this.name,\n      phone: this.preparePhone(this.phone),\n      email: this.email,\n      password: this.password,\n      captcha: this.captcha\n    };\n    this.ngRestoUserService\n      .signUp(data)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      );\n  }\n\n  preparePhone(phone) {\n    phone = '+' + phone.replace(/[^0-9]/gim,'');\n    return phone.replace('+8', '');\n  }\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { SignInRequestData } from '../interfaces/sign-in-request-data';\n\n@Directive({\n  selector: '[appSignIn]'\n})\nexport class SignInDirective {\n\n  @Input() phone:string;\n  @Input() password:string;\n  @Input() captcha:string;\n  @Input() rememberMe:boolean;\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    let data:SignInRequestData = {\n      phone: this.preparePhone(this.phone),\n      password: this.password,\n      captcha: this.captcha\n    };\n    this.ngRestoUserService\n      .signIn(data, this.rememberMe)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      )\n  }\n\n  preparePhone(phone) {\n    phone = '+' + phone.replace(/[^0-9]/gim,'');\n    return phone.replace('+8', '');\n  }\n\n}\n","import { Directive, HostListener, Input } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { SignInRequestData } from '../interfaces/sign-in-request-data';\n\n@Directive({\n  selector: '[appSignOut]'\n})\nexport class SignOutDirective {\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    this.ngRestoUserService.signOut();\n  }\n\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { ResetPasswordRequestData } from '../interfaces/reset-password-request-data';\n\n@Directive({\n  selector: '[appResetPassword]'\n})\nexport class ResetPasswordDirective {\n\n  @Input() phone:string;\n  @Input() captcha:string;\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    let data:ResetPasswordRequestData = {\n      phone: this.phone,\n      captcha: this.captcha\n    };\n    this.ngRestoUserService\n      .resetPassword(data)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      );\n  }\n\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { ResetPasswordCodeRequestData } from '../interfaces/reset-password-code-request-data';\n\n\n@Directive({\n  selector: '[appResetPasswordCode]'\n})\nexport class ResetPasswordCodeDirective {\n\n  @Input() userId:string;\n  @Input() code:string;\n  @Input() password:string;\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    let data:ResetPasswordCodeRequestData = {\n      userId: this.userId,\n      code: this.code,\n      password: this.password\n    };\n    this.ngRestoUserService\n      .resetPasswordCode(data)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      );\n  }\n\n}\n","import { Directive, Renderer2, ElementRef } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\n@Directive({\n  selector: '[appBalance]'\n})\nexport class BalanceDirective {\n\n  amount:string;\n\n  constructor(\n    private renderer: Renderer2,\n    private el: ElementRef,\n    private ngRestoUserService: NgRestoUserService\n  ) {\n    let balance = 0;\n    this.ngRestoUserService\n      .getBonuses()\n      .subscribe(bonuses => {\n        for(let name in bonuses) {\n          const data = bonuses[name];\n          if(data.state == 'active') {\n            balance += data.balance;\n          }\n        }\n\n        this.amount = `${balance}`;\n        this.renderer.setProperty(this.el.nativeElement, 'innerHTML', this.amount);\n      });\n\n  }\n\n}\n","import {\n  Directive, HostListener, Input,\n  Output, EventEmitter, ElementRef, Renderer2\n} from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { AddDishToFavoritesRequestData } from '../interfaces/add-dish-to-favorites-request-data';\nimport { RemoveDishFromFavoritesRequestData } from '../interfaces/remove-dish-from-favorites-request-data';\n\n@Directive({\n  selector: '[appToggleDishToFavorites]'\n})\nexport class ToggleDishToFavoritesDirective {\n\n  @Input() dish:any;\n  @Output() addedToFavorites = new EventEmitter<void>();\n  @Output() removedFromFavorites = new EventEmitter<void>();\n  @Output() change = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  inFavorites: boolean;\n  isLoggedIn: boolean;\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService,\n    private element: ElementRef,\n    private renderer: Renderer2\n  ) {}\n\n  ngOnInit() {\n    this.ngRestoUserService\n      .userFavorites()\n      .subscribe(favorites => {\n\n        this.inFavorites = favorites.find(dish => dish.id == this.dish.id);\n\n        if(this.inFavorites) {\n          this.renderer.addClass(this.element.nativeElement, 'selected')\n        } else {\n          this.renderer.removeClass(this.element.nativeElement, 'selected');\n        }\n      });\n    this.ngRestoUserService\n      .userIsLoggedIn()\n      .subscribe(result => this.isLoggedIn = result);\n  }\n\n  @HostListener('click')\n  onClick() {\n    if(this.inFavorites) {\n      this.removeDishFromFavorites();\n    } else {\n      this.addDishToFavorites();\n    }\n  }\n\n  addDishToFavorites() {\n    this.ngRestoUserService\n      .addDishToFavorites(this.dish)\n      .subscribe(\n        () => {\n          this.addedToFavorites.emit();\n          this.change.emit(true);\n          this.renderer.addClass(this.element.nativeElement, 'selected');\n        },\n        error => this.error.emit(error)\n      )\n  }\n\n  removeDishFromFavorites() {\n    this.ngRestoUserService\n      .removeDishFromFavorites(this.dish)\n      .subscribe(\n        () => {\n          this.removedFromFavorites.emit();\n          this.change.emit(false);\n          this.renderer.removeClass(this.element.nativeElement, 'selected');\n        },\n        error => this.error.emit(error)\n      )\n  }\n\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { UpdateProfileRequestData } from '../interfaces/update-profile-request-data';\n\n@Directive({\n  selector: '[appUpdateProfile]'\n})\nexport class UpdateProfileDirective {\n\n  @Input() name:string;\n  @Input() phone:string;\n  @Input() email:string;\n\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    let data:UpdateProfileRequestData = {\n      name: this.name,\n      //phone: this.phone,\n      email: this.email\n    };\n    this.ngRestoUserService\n      .updateProfile(data)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      );\n  }\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\nimport { AddAddressRequestData } from '../interfaces/add-address-request-data';\n\n@Directive({\n  selector: '[appAddAddress]'\n})\nexport class AddAddressDirective {\n\n  @Input() street:string;     //required\n  @Input() home:string;       //required\n  @Input() name:string;\n  @Input() housing:string;\n  @Input() index:string;\n  @Input() entrance:string;\n  @Input() floor:string;\n  @Input() apartment:string;\n  @Input() doorphone:string;\n\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    if(!this.street) {\n      this.error.emit('ÐÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼Ð¾ ÑÐºÐ°Ð·Ð°ÑÑ ÑÐ»Ð¸ÑÑ'); return;\n    }\n    if(!this.home) {\n      this.error.emit('ÐÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼Ð¾ ÑÐºÐ°Ð·Ð°ÑÑ Ð½Ð¾Ð¼ÐµÑ Ð´Ð¾Ð¼Ð°'); return;\n    }\n\n    let data:AddAddressRequestData = {\n      street: this.street,\n      home: this.home,\n      name: this.name || '',\n      housing: this.housing || '',\n      index: this.index || '',\n      entrance: this.entrance || '',\n      floor: this.floor || '',\n      apartment: this.apartment || '',\n      doorphone: this.doorphone || ''\n    };\n    this.ngRestoUserService\n      .addAddress(data)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      );\n  }\n}\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\nimport { Address } from \"../interfaces/address\";\n\n\n\n@Directive({\n  selector: '[appDeleteAddress]'\n})\nexport class DeleteAddressDirective {\n\n  @Input() address:Address;\n\n  @Output() success = new EventEmitter<boolean>();\n  @Output() error = new EventEmitter<string>();\n\n  constructor(\n    private ngRestoUserService: NgRestoUserService\n  ) { }\n\n  @HostListener('click')\n  onClick() {\n    this.ngRestoUserService\n      .deleteAddress(this.address)\n      .subscribe(\n        () => this.success.emit(true),\n        error => this.error.emit(error)\n      );\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { SignUpDirective } from './directives/sign-up.directive';\nimport { SignInDirective } from './directives/sign-in.directive';\nimport { SignOutDirective } from './directives/sign-out.directive';\nimport { ResetPasswordDirective } from './directives/reset-password.directive';\nimport { ResetPasswordCodeDirective } from './directives/reset-password-code.directive';\nimport { BalanceDirective } from './directives/balance.directive';\nimport { ToggleDishToFavoritesDirective } from './directives/toggle-dish-to-favorites.directive';\nimport { UpdateProfileDirective } from './directives/update-profile.directive';\nimport { AddAddressDirective } from \"./directives/add-address.directive\";\nimport { DeleteAddressDirective } from \"./directives/delete-address.directive\";\n\nconst DIRECTIVES = [\n  SignUpDirective,\n  SignInDirective,\n  SignOutDirective,\n  ResetPasswordDirective,\n  ResetPasswordCodeDirective,\n  BalanceDirective,\n  ToggleDishToFavoritesDirective,\n  UpdateProfileDirective,\n  AddAddressDirective,\n  DeleteAddressDirective\n];\n\n@NgModule({\n  imports: [],\n  providers: [],\n  declarations: [...DIRECTIVES],\n  exports: [...DIRECTIVES]\n})\nexport class NgUserModule { }\n","import { Injectable } from '@angular/core';\nimport {\n  HttpInterceptor,\n  HttpHandler,\n  HttpRequest,\n  HttpErrorResponse\n} from '@angular/common/http';\n\nimport { NgRestoUserService } from '../services/ng-resto-user.service';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n  constructor(private userService: NgRestoUserService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\n\n    console.info('AuthInterceptor', req);\n\n    // Get the auth token from the service.\n    const authToken = this.userService.getAuthToken();\n\n    if(authToken) {\n      // Clone the request and replace the original headers with\n      // cloned headers, updated with the authorization.\n      const authReq = req.clone({\n        headers: req.headers.set('Authorization', `JWT ${authToken}`)\n      });\n\n      // send cloned request with header to the next handler.\n      return next.handle(authReq);\n\n    }\n\n    return next.handle(req);\n  }\n}","import { HTTP_INTERCEPTORS } from '@angular/common/http';\n\nimport { AuthInterceptor } from './auth.interceptor';\n\nexport const ngUserHttpInterceptorProviders = [\n  { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }\n];"],"names":[],"mappings":"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"}
